diff --git a/util/Master.cmake b/util/Master.cmake
index bde5f040f..fb531b3fe 100644
--- a/util/Master.cmake
+++ b/util/Master.cmake
@@ -502,6 +502,8 @@ foreach(h5dir ${HDF5_Fortran_INCLUDE_DIRS})
   endif()
 endforeach()
 if (HDF5_FOUND)
+  list(FILTER HDF5_Fortran_HL_LIBRARIES EXCLUDE REGEX "-NOTFOUND$")
+  list(FILTER HDF5_Fortran_LIBRARIES EXCLUDE REGEX "-NOTFOUND$")
   set(SHARED_LINK_LIBS ${HDF5_Fortran_HL_LIBRARIES} ${HDF5_Fortran_LIBRARIES} ${SHARED_LINK_LIBS})
 endif()
 
